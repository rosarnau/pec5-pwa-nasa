<div *ngIf="isLoading" class="spinner">
  <div class="loading-spinner"></div>
</div>

<div *ngIf="!isLoading && image" class="container mt-4 d-flex justify-content-center">
  <div class="card text-center" style="max-width: 600px; width: 100%;">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h1 class="h2 m-0">{{ image.title }}</h1>
      <button class="btn btn-secondary" (click)="goBack()">
         Back
      </button>
    </div>
    <img [src]="image.url" alt="{{ image.title }}" class="card-img-top mx-auto mt-3" style="max-width: 100%; height: auto;">
    <div class="card-body">
      <p class="card-text">{{ image.explanation }}</p>
      <p class="card-text"><strong>Date:</strong> {{ image.date }}</p>
      <p class="card-text" *ngIf="image.copyright"><strong>Copyright:</strong> {{ image.copyright }}</p>
    </div>
    <div class="card-footer">
      <button class="btn btn-secondary mb-3" (click)="toggleDetails()">
        <mat-icon>{{ showAllDetails ? 'expand_less' : 'expand_more' }}</mat-icon> Show all details
      </button>
      <mat-tab-group *ngIf="showAllDetails" class="mt-3">
        <mat-tab label="Service Version">
          <p class="card-text"><strong>Service Version:</strong> {{ image.service_version }}</p>
        </mat-tab>
        <mat-tab label="Media Type">
          <p class="card-text"><strong>Media Type:</strong> {{ image.media_type }}</p>
        </mat-tab>
        <mat-tab label="HD URL">
          <p class="card-text"><strong>HD URL:</strong> <a [href]="image.hdurl" target="_blank">{{ image.hdurl }}</a></p>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>



